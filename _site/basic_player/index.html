<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>PIXI Object Model example: Basics</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
        }
    </style>
    <script src="../lib/pixi.min.js"></script>
    <script src="../lib/pom.min.js"></script>
    </head>
<body>
<script>
    function loadXMLDoc() {
        var xmlhttp = new XMLHttpRequest();
        
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == XMLHttpRequest.DONE && 
                xmlhttp.status == 200){
                   manageData( xmlhttp.responseText );
            }
        }

        xmlhttp.open("GET", "../examples/simple.json", true);
        xmlhttp.send();
    }

    function manageData(data) {
        var manager = new POM.Manager(data);

        stage.addChild(manager);

        animate();
    }

    var stage = new PIXI.Container();

    var renderer = PIXI.autoDetectRenderer(800, 600,{backgroundColor : 0xffffff});
    document.body.appendChild(renderer.view);

    function animate() {
        // render the stage
        renderer.render(stage);
        requestAnimationFrame(animate);
    }
    
    loadXMLDoc();
</script>
</body>
</html>
