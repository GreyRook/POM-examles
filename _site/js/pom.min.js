!function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){(function(r){var n=e.exports=t("./core");n.extras=t("./extras"),r.POM=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":8,"./extras":11}],2:[function(t,e,r){e.exports={name:"POM",version:"0.0.1",description:"Pixi Object Model",author:"Grey Rook Entertainment",main:"./src/index.js",homepage:"",bugs:"",license:"",licenseUrl:"",repository:{type:"git",url:""},scripts:{test_ci:"testem ci",test:"karma start test/karma.conf.js",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.0",eventemitter3:"^1.0.1","object-assign":"^2.0.0","resource-loader":"^1.5.6"},devDependencies:{babelify:"^7.2.0",browserify:"^9.0.8","browserify-istanbul":"^0.2.1",chai:"^2.2.0",del:"^1.1.1",gulp:"^3.8.11","gulp-cached":"^1.0.4","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.10.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.0","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.4","ink-docstrap":"git+https://github.com/Pilatch/docstrap.git","jasmine-core":"^2.2.0",jsdoc:"^3.3.0-beta3","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.4","karma-browserify":"^4.2.1","karma-chai":"^0.1.0","require-dir":"^0.3.0","run-sequence":"^1.0.2",testem:"^0.8.2","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.1.2"}}},{}],3:[function(t,e,r){"use strict";function n(t){this._elementPrototypes={container:o,graphics:a,sprite:i},this._plugins={},o.call(this,this,t)}var o=t("./elements/ContainerElement"),i=t("./elements/SpriteElement"),a=t("./elements/GraphicsElement");n.prototype=Object.create(o.prototype),e.exports=n,n.prototype.createElementFromData=function(t){var e=t.type;if(e in this._elementPrototypes)return new this._elementPrototypes[e](this,t);throw new Error("Cannot create element of unknown type "+e)},n.prototype.registerPrototype=function(t,e){this._elementPrototypes[t]=e},n.prototype.registerPlugin=function(t,e){this._plugins[t]=e},n.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in this._plugins)this.plugins[t]=new this._plugins[t](this)},n.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},n.prototype.destroy=function(){this.destroyPlugins(),o.prototype.destroy.call(this,!0)}},{"./elements/ContainerElement":5,"./elements/GraphicsElement":6,"./elements/SpriteElement":7}],4:[function(t,e,r){var n={VERSION:t("../../package.json").version,DEFAULT_DATAKEYS:["name",["position","x"],["position","y"],["scale","x"],["scale","y"],"alpha","rotation",["pivot","x"],["pivot","y"]]};e.exports=n},{"../../package.json":2}],5:[function(t,e,r){function n(t,e){PIXI.Container.call(this),this.manager=t,this.type="container",this.minWidth=0,this.minHeight=0,this._hasFlags=this._updateFlags.length>0,this.updateData(e||{})}var o=t("../../extras/updateData"),i=t("../../extras/getData"),a=t("../../extras/setData"),s=t("../const"),p=t("../../extras/helpers");n.prototype=Object.create(PIXI.Container.prototype),e.exports=n,n.prototype._updateFlags=[],n.prototype.updateData=function(t){t.children&&this.updateChildren(t.children),o(this,t)},n.prototype.setData=function(t){t=t||{},this.setChildren(t.children),a(this,t)},n.prototype.getData=function(){for(var t=[],e=0;e<this.children.length;e++)t.push(this.children[e].getData());var r=i(this);return r.children=t,r},n.prototype.removeChildByNameRecursive=function(t){var e=this.getChildByNameRecursive(t);e&&e.parent.removeChild(e)},n.prototype.getChildByNameRecursive=function(t){for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.name==t)return r;if("undefined"!=typeof r.getChildByNameRecursive&&(r=r.getChildByNameRecursive(t),null!==r))return r}return null},n.prototype.updateChildren=function(t){this.destroyChildren();for(var e=0;e<t.length;e++)this.addChild(this.manager.createElementFromData(t[e]))},n.prototype.destroyChildren=function(){for(var t=this.removeChildren(),e=0;e<t.length;e++){var r=t[e];r.destroy&&r.destroy()}},n.prototype.setChildren=function(t){if(t){this.destroyChildren();for(var e=0;e<t.length;e++)this.addChild(this.manager.createElementFromData(t[e]))}},n.prototype._getDataKeys=function(){return p.deepClone(s.DEFAULT_DATAKEYS)},n.prototype.toLocal=function(t,e){if(this.resizeScaling){var r=PIXI.Container.prototype.toLocal.call(this,t,e);return r.x*=this.localScaleX,r.y*=this.localScaleY,r}return PIXI.Container.prototype.toLocal.call(this,t,e)},n.prototype._checkFlags=function(){for(var t=0,e=this._updateFlags.length;e>t;t++){var r=this._updateFlags[t];if(this[r.name]){var n;n="string"==typeof r.func?this[r.func]:r.func,n?this[r.name]=n.call(this):console.log("Could not update flag "+r.name+" on Element of type "+this.type)}}},n.prototype.updateTransform=function(){var t,e,r=this.worldTransform;if(this.resizeScaling){var n=this.parent.worldTransform,o=Math.sqrt(Math.pow(n.a,2)+Math.pow(n.b,2)),i=Math.sqrt(Math.pow(n.c,2)+Math.pow(n.d,2));this.worldWidth=Math.round(Math.max(this.width*o,this.minWidth)),this.worldHeight=Math.round(Math.max(this.height*i,this.minHeight)),PIXI.DisplayObject.prototype.updateTransform.call(this);var a=r.tx,s=r.ty;for(r.scale(0!==o?1/o:0,0!==i?1/i:0),r.tx=a,r.ty=s,this.redraw&&this.redraw(o,i),this.localScaleX=o,this.localScaleY=i,this._hasFlags&&this._checkFlags(),t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}else this.redraw&&this.redraw(1,1),this._hasFlags&&this._checkFlags(),PIXI.Container.prototype.updateTransform.call(this)},n.prototype.pomContainerUpdateTransform=n.prototype.updateTransform,Object.defineProperties(n.prototype,{dataKeys:{get:n.prototype._getDataKeys}})},{"../../extras/getData":9,"../../extras/helpers":10,"../../extras/setData":12,"../../extras/updateData":13,"../const":4}],6:[function(t,e,r){function n(t,e){PIXI.Graphics.call(this),this.dataKeys=a.DEFAULT_DATAKEYS,this.manager=t,this.type="graphics",this.updateData(e||{})}var o=t("../../extras/updateData"),i=t("../../extras/getData"),a=t("../const");n.prototype=Object.create(PIXI.Graphics.prototype),e.exports=n,n.prototype.updateData=function(t){o(this,t)},n.prototype.getData=function(){return i(this)}},{"../../extras/getData":9,"../../extras/updateData":13,"../const":4}],7:[function(t,e,r){function n(t,e){PIXI.Sprite.call(this),this.dataKeys=a.DEFAULT_DATAKEYS.splice(),this.dataKeys.push("source"),this.manager=t,this.type="sprite",this.updateData(e||{})}var o=t("../../extras/updateData"),i=t("../../extras/getData"),a=t("../const");n.prototype=Object.create(PIXI.Sprite.prototype),e.exports=n,n.prototype.updateData=function(t){o(this,t)},n.prototype.getData=function(){return i(this)},Object.defineProperty(n.prototype,"source",{set:function(t){this.texture=PIXI.Texture.fromImage(t)},get:function(){return this.texture.baseTexture.imageUrl}})},{"../../extras/getData":9,"../../extras/updateData":13,"../const":4}],8:[function(t,e,r){e.exports=Object.assign(t("./const"),{Manager:t("./Manager"),ContainerElement:t("./elements/ContainerElement"),GraphicsElement:t("./elements/GraphicsElement"),SpriteElement:t("./elements/SpriteElement")})},{"./Manager":3,"./const":4,"./elements/ContainerElement":5,"./elements/GraphicsElement":6,"./elements/SpriteElement":7}],9:[function(t,e,r){"use strict";function n(t){for(var e,r,n,o={},i=t,a=0;a<t.dataKeys.length;a++){e=t.dataKeys[a];try{if("function"==typeof e)o[e]=t[e]();else if("string"==typeof e)o[e]=t[e];else{for(i=t,n=e,r=o;n.length>1;){var s=n.shift();r.hasOwnProperty(s)||(r[s]={}),r=r[s],i=i[s]}n=n[0],r[n]=i[n]}}catch(p){console&&console.error&&(console.error('Property "'+e+'" could not be gotten from Element '+t.name+' of type "'+t.type+'"'),console.error(p.message)),o[e]=void 0}}return o}function o(t){return{type:t.type,values:n(t)}}e.exports=o},{}],10:[function(t,e,r){"use strict";function n(t){try{var e,r=typeof t;if("boolean"===r||"string"===r||"number"===r)return t;if(o(t)){e=[];for(var i in t)e.push(n(t[i]));return e}if("function"===r)return t;if("object"===r&&null!==t){e={};for(var a in t)e[a]=n(t[a]);return e}return null}catch(s){console&&console.error&&(console.error("Object could not be cloned"),console.error(t),console.error(s.message))}}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,e){var r=typeof t,n=typeof e;if(r!=n)return!1;if("boolean"===r||"string"===r||"number"===r)return t==e;if(o(t)){if(!o(e))return!1;for(var a in t){var s=t[a],p=e[a];if(!i(s,p))return!1}if(t.length!=e.length)return!1}else{if("function"===r)return t==e;if("object"!==r)return null;if(null==t&&e||null==e&&t)return!1;var l,c=[];for(l in t){if(!i(t[l],e[l]))return!1;c.push(l)}for(l in e)if(c.indexOf(l)<0&&!i(e[l],t[l]))return!1}return!0}e.exports={deepCompare:i,isArray:o,deepClone:n}},{}],11:[function(t,e,r){e.exports={updateData:t("./updateData"),getData:t("./getData"),setData:t("./setData"),helpers:t("./helpers")}},{"./getData":9,"./helpers":10,"./setData":12,"./updateData":13}],12:[function(t,e,r){"use strict";function n(t,e,r){if("function"==typeof t[r]){var o=e[r];a.isArray(o)||(o=[o]),t[r].apply(t,o)}else if(e[r]&&"object"==typeof e[r]){a.isArray(e[r])?t[r]=[]:t[r]||(t[r]={});for(var i in e[r])n(t[r],e[r],i);t[r]=t[r]}else t[r]=e[r]}function o(t,e){for(var r in e)try{n(t,e,r)}catch(o){console&&console.error&&(console.error('Property "'+r+'" could not be set on Element '+t.name+' of type "'+t.type+'"'),console.error(o.message))}}function i(t,e){o(t,e.values||{})}var a=t("./helpers");e.exports=i},{"./helpers":10}],13:[function(t,e,r){"use strict";function n(t,e,r){if(e[r]&&"object"==typeof e[r]){t[r]||(a.isArray(e[r])?t[r]=[]:t[r]={});for(var o in e[r])n(t[r],e[r],o);t[r]=t[r]}else t[r]=e[r]}function o(t,e){var r=t;for(var o in e)n(r,e,o)}function i(t,e){o(t,e.values||{})}var a=t("./helpers");e.exports=i},{"./helpers":10}]},{},[1]);
//# sourceMappingURL=pom.min.js.map
