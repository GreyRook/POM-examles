{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/pom.js","pom.min.js","package.json","Manager.js","const.js","ContainerElement.js","GraphicsElement.js","SpriteElement.js","index.js","getData.js","helpers.js","setData.js","updateData.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","core","extras","POM","this","self","window","./core","./extras",2,"name","version","description","author","main","homepage","bugs","license","licenseUrl","repository","type","url","scripts","test_ci","test","docs","dependencies","async","brfs","earcut","eventemitter3","object-assign","resource-loader","devDependencies","babelify","browserify","browserify-istanbul","chai","del","gulp","gulp-cached","gulp-concat","gulp-debug","gulp-jshint","gulp-mirror","gulp-plumber","gulp-rename","gulp-sourcemaps","gulp-uglify","gulp-util","ink-docstrap","jasmine-core","jsdoc","jshint-summary","minimist","mocha","karma-browserify","karma-chai","require-dir","run-sequence","testem","vinyl-buffer","vinyl-source-stream","watchify",3,"Manager","data","_elementPrototypes","container","ContainerElement","graphics","GraphicsElement","sprite","SpriteElement","_plugins","prototype","Object","create","createElementFromData","registerPrototype","elementPrototype","registerPlugin","pluginName","ctor","initPlugins","plugins","destroyPlugins","destroy","./elements/ContainerElement","./elements/GraphicsElement","./elements/SpriteElement",4,"CONST","VERSION","DEFAULT_DATAKEYS","../../package.json",5,"manager","PIXI","Container","minWidth","minHeight","_hasFlags","_updateFlags","updateData","getData","setData","helpers","children","updateChildren","setChildren","push","removeChildByNameRecursive","child","getChildByNameRecursive","parent","removeChild","destroyChildren","addChild","removeChildren","_getDataKeys","deepClone","toLocal","from","resizeScaling","local","x","localScaleX","y","localScaleY","_checkFlags","j","flag","func","console","log","updateTransform","wt","worldTransform","pt","scaleX","Math","sqrt","pow","b","scaleY","c","d","worldWidth","round","max","width","worldHeight","height","DisplayObject","tx","ty","scale","redraw","pomContainerUpdateTransform","defineProperties","dataKeys","get","../../extras/getData","../../extras/helpers","../../extras/setData","../../extras/updateData","../const",6,"Graphics",7,"Sprite","splice","defineProperty","set","value","texture","Texture","fromImage","baseTexture","imageUrl",8,"assign","./Manager","./const",9,"getValues","element","property","key","values","elem","k","shift","hasOwnProperty","error","message","undefined",10,"object","clone","isArray","array","toString","deepCompare","object1","object2","type1","type2","child1","child2","checked","indexOf",11,"./getData","./helpers","./setData","./updateData",12,"_setValue","args","apply","setValues",13,"updateValues"],"mappings":"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","file":"pom.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function (global){\nvar core = module.exports = require('./core');\n\n// mixin the deprecation features.\n//Object.assign(core, require('./deprecation'));\ncore.extras = require('./extras');\n\n// export PixiObjectModel globally.\nglobal.POM = core;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wb20uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUksT0FBTyxPQUFPLE9BQVAsR0FBaUIsUUFBUSxRQUFSLENBQWpCOzs7O0FBSVgsS0FBSyxNQUFMLEdBQXVCLFFBQVEsVUFBUixDQUF2Qjs7O0FBR0EsT0FBTyxHQUFQLEdBQWEsSUFBYiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG4vLyBtaXhpbiB0aGUgZGVwcmVjYXRpb24gZmVhdHVyZXMuXG4vL09iamVjdC5hc3NpZ24oY29yZSwgcmVxdWlyZSgnLi9kZXByZWNhdGlvbicpKTtcbmNvcmUuZXh0cmFzICAgICAgICAgID0gcmVxdWlyZSgnLi9leHRyYXMnKTtcblxuLy8gZXhwb3J0IFBpeGlPYmplY3RNb2RlbCBnbG9iYWxseS5cbmdsb2JhbC5QT00gPSBjb3JlO1xuIl19","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\nvar core = module.exports = require('./core');\n\n// mixin the deprecation features.\n//Object.assign(core, require('./deprecation'));\ncore.extras = require('./extras');\n\n// export PixiObjectModel globally.\nglobal.POM = core;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./core\":8,\"./extras\":11}],2:[function(require,module,exports){\nmodule.exports={\n  \"name\": \"POM\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Pixi Object Model\",\n  \"author\": \"Grey Rook Entertainment\",\n  \"main\": \"./src/index.js\",\n  \"homepage\": \"\",\n  \"bugs\": \"\",\n  \"license\": \"\",\n  \"licenseUrl\": \"\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"\"\n  },\n  \"scripts\": {\n    \"test_ci\": \"testem ci\",\n    \"test\": \"karma start test/karma.conf.js\",\n    \"docs\": \"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md\"\n  },\n  \"dependencies\": {\n    \"async\": \"^0.9.0\",\n    \"brfs\": \"^1.4.0\",\n    \"earcut\": \"^2.0.0\",\n    \"eventemitter3\": \"^1.0.1\",\n    \"object-assign\": \"^2.0.0\",\n    \"resource-loader\": \"^1.5.6\"\n  },\n  \"devDependencies\": {\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^9.0.8\",\n    \"browserify-istanbul\": \"^0.2.1\",\n    \"chai\": \"^2.2.0\",\n    \"del\": \"^1.1.1\",\n    \"gulp\": \"^3.8.11\",\n    \"gulp-cached\": \"^1.0.4\",\n    \"gulp-concat\": \"^2.5.2\",\n    \"gulp-debug\": \"^2.0.1\",\n    \"gulp-jshint\": \"^1.10.0\",\n    \"gulp-mirror\": \"^0.4.0\",\n    \"gulp-plumber\": \"^1.0.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.5.2\",\n    \"gulp-uglify\": \"^1.2.0\",\n    \"gulp-util\": \"^3.0.4\",\n    \"ink-docstrap\": \"git+https://github.com/Pilatch/docstrap.git\",\n    \"jasmine-core\": \"^2.2.0\",\n    \"jsdoc\": \"^3.3.0-beta3\",\n    \"jshint-summary\": \"^0.4.0\",\n    \"minimist\": \"^1.1.1\",\n    \"mocha\": \"^2.2.4\",\n    \"karma-browserify\": \"^4.2.1\",\n    \"karma-chai\": \"^0.1.0\",\n    \"require-dir\": \"^0.3.0\",\n    \"run-sequence\": \"^1.0.2\",\n    \"testem\": \"^0.8.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"watchify\": \"^3.1.2\"\n  }\n}\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar ContainerElement = require('./elements/ContainerElement'),\n    SpriteElement = require('./elements/SpriteElement'),\n    GraphicsElement = require('./elements/GraphicsElement');\n\n/**\n * POM Manager main container\n * @class Manager\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n */\nfunction Manager(data) {\n    /**\n     * list of all known element constructors\n     *\n     * @private\n     */\n    this._elementPrototypes = {\n        'container': ContainerElement,\n        'graphics': GraphicsElement,\n        'sprite': SpriteElement\n    };\n\n    this._plugins = {};\n\n    ContainerElement.call(this, this, data);\n}\n\nManager.prototype = Object.create(ContainerElement.prototype);\nmodule.exports = Manager;\n\n/**\n * create new element from given data (see elements folder)\n *\n * if no matching prototype is registered an exception is thorwn.\n *\n * @param data {Object} contains information about the element\n * @returns new instance of an element\n */\nManager.prototype.createElementFromData = function (data) {\n    var type = data.type;\n    if (type in this._elementPrototypes) {\n        return new this._elementPrototypes[type](this, data);\n    }\n    throw new Error('Cannot create element of unknown type ' + type);\n};\n\n/**\n * register new element prototype\n *\n * @param type {String} name of the element\n * @param elementPrototype {Element} base class for the element\n */\nManager.prototype.registerPrototype = function (name, elementPrototype) {\n    this._elementPrototypes[name] = elementPrototype;\n};\n\n/**\n * Adds a plugin to an object\n *\n * @param pluginName {string} The name of the plugin.\n * @param ctor {Object}\n */\nManager.prototype.registerPlugin = function (pluginName, ctor) {\n    this._plugins[pluginName] = ctor;\n};\n\n/**\n * Instantiate all plugins of this object\n */\nManager.prototype.initPlugins = function () {\n    this.plugins = this.plugins || {};\n\n    for (var o in this._plugins) {\n        this.plugins[o] = new this._plugins[o](this);\n    }\n};\n\n/**\n * Remove all the plugins of this object\n */\nManager.prototype.destroyPlugins = function () {\n    for (var o in this.plugins) {\n        this.plugins[o].destroy();\n        this.plugins[o] = null;\n    }\n\n    this.plugins = null;\n};\n\nManager.prototype.destroy = function () {\n    this.destroyPlugins();\n    ContainerElement.prototype.destroy.call(this, true);\n};\n\n},{\"./elements/ContainerElement\":5,\"./elements/GraphicsElement\":6,\"./elements/SpriteElement\":7}],4:[function(require,module,exports){\n/**\n * Constant values used in POM.Manager\n *\n * @lends MANAGER\n */\nvar CONST = {\n  /**\n   * String of the current POM.Manager version\n   *\n   * @static\n   * @constant\n   * @property {string} VERSION\n   */\n  VERSION: require('../../package.json').version,\n  DEFAULT_DATAKEYS: ['name', ['position', 'x'], ['position', 'y'], ['scale', 'x'], ['scale', 'y'], 'alpha', 'rotation', ['pivot', 'x'], ['pivot', 'y']]\n};\n\nmodule.exports = CONST;\n\n},{\"../../package.json\":2}],5:[function(require,module,exports){\nvar updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar setData = require('../../extras/setData');\nvar CONST = require('../const');\nvar helpers = require('../../extras/helpers');\n\n/**\n * POM Container Element\n * @class ContainerElement\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n * @param manager the core manager\n * @param data data for the element\n */\nfunction ContainerElement(manager, data) {\n    PIXI.Container.call(this);\n    this.manager = manager;\n    this.type = 'container';\n    this.minWidth = 0;\n    this.minHeight = 0;\n    this._hasFlags = this._updateFlags.length > 0;\n    this.updateData(data || {});\n}\n\nContainerElement.prototype = Object.create(PIXI.Container.prototype);\nmodule.exports = ContainerElement;\n\nContainerElement.prototype._updateFlags = [];\n\n/**\n * Update data of objects from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nContainerElement.prototype.updateData = function (data) {\n    if (data.children) {\n        this.updateChildren(data.children);\n    }\n\n    updateData(this, data);\n};\n\n/**\n * Sets data of objects from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nContainerElement.prototype.setData = function (data) {\n    data = data || {};\n\n    this.setChildren(data.children);\n    setData(this, data);\n};\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the container (and its children)\n */\nContainerElement.prototype.getData = function () {\n    var children = [];\n    for (var i = 0; i < this.children.length; i++) {\n        children.push(this.children[i].getData());\n    }\n    var data = getData(this);\n    data.children = children;\n    return data;\n};\n\n/**\n * Removes element with a given name - if it exists.\n * searches all children for the element with this name\n *\n * @param name {String} The name of the element to be removed\n */\nContainerElement.prototype.removeChildByNameRecursive = function (name) {\n    var child = this.getChildByNameRecursive(name);\n    if (child) {\n        child.parent.removeChild(child);\n    }\n};\n\n/**\n * Get element with given name - if it exists.\n * searches all children for the element with this name\n *\n * @param name {String} The name of the element to be found\n */\nContainerElement.prototype.getChildByNameRecursive = function (name) {\n    for (var i = 0; i < this.children.length; i++) {\n        var child = this.children[i];\n        if (child.name == name) {\n            return child;\n        }\n        if (typeof child.getChildByNameRecursive !== 'undefined') {\n            child = child.getChildByNameRecursive(name);\n            if (child !== null) {\n                return child;\n            }\n        }\n    }\n    return null;\n};\n\n/**\n * Generate children from JSON data\n *\n * @param children {Array} data of children\n * @private\n */\n//TODO Evaluate whether an UPDATE function should remove ALL data, instead of replacing old data with new data\nContainerElement.prototype.updateChildren = function (children) {\n    this.destroyChildren();\n    for (var i = 0; i < children.length; i++) {\n        this.addChild(this.manager.createElementFromData(children[i]));\n    }\n};\n\nContainerElement.prototype.destroyChildren = function () {\n    var children = this.removeChildren();\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.destroy) {\n            child.destroy();\n        }\n    }\n};\n\nContainerElement.prototype.setChildren = function (children) {\n    if (children) {\n        this.destroyChildren();\n        for (var i = 0; i < children.length; i++) {\n            this.addChild(this.manager.createElementFromData(children[i]));\n        }\n    }\n};\n\nContainerElement.prototype._getDataKeys = function () {\n    return helpers.deepClone(CONST.DEFAULT_DATAKEYS);\n};\n\nContainerElement.prototype.toLocal = function (global, from) {\n    if (this.resizeScaling) {\n        var local = PIXI.Container.prototype.toLocal.call(this, global, from);\n        local.x *= this.localScaleX;\n        local.y *= this.localScaleY;\n\n        return local;\n    } else {\n        return PIXI.Container.prototype.toLocal.call(this, global, from);\n    }\n};\n\nContainerElement.prototype._checkFlags = function () {\n    for (var i = 0, j = this._updateFlags.length; i < j; i++) {\n        var flag = this._updateFlags[i];\n\n        if (this[flag.name]) {\n\n            var func;\n            if (typeof flag.func === 'string') {\n                func = this[flag.func];\n            } else {\n                func = flag.func;\n            }\n\n            if (func) {\n                this[flag.name] = func.call(this);\n            } else {\n                console.log('Could not update flag ' + flag.name + ' on Element of type ' + this.type);\n            }\n        }\n    }\n};\n\n// TODO add a toGlobal function too\n// TODO merge this with GOWN.utils.resizeScaling\nContainerElement.prototype.updateTransform = function () {\n\n    var i, j;\n    var wt = this.worldTransform;\n    // obmit Control.updateTransform as it calls redraw as well\n    if (!this.resizeScaling) {\n        if (this.redraw) {\n            this.redraw(1, 1);\n        }\n\n        if (this._hasFlags) {\n            this._checkFlags();\n        }\n\n        PIXI.Container.prototype.updateTransform.call(this);\n    } else {\n        var pt = this.parent.worldTransform;\n        var scaleX = Math.sqrt(Math.pow(pt.a, 2) + Math.pow(pt.b, 2));\n        var scaleY = Math.sqrt(Math.pow(pt.c, 2) + Math.pow(pt.d, 2));\n        this.worldWidth = Math.round(Math.max(this.width * scaleX, this.minWidth));\n        this.worldHeight = Math.round(Math.max(this.height * scaleY, this.minHeight));\n\n        PIXI.DisplayObject.prototype.updateTransform.call(this);\n\n        // revert scaling\n        var tx = wt.tx;\n        var ty = wt.ty;\n\n        wt.scale(scaleX !== 0 ? 1 / scaleX : 0, scaleY !== 0 ? 1 / scaleY : 0);\n        wt.tx = tx;\n        wt.ty = ty;\n\n        if (this.redraw) {\n            this.redraw(scaleX, scaleY);\n        }\n\n        this.localScaleX = scaleX;\n        this.localScaleY = scaleY;\n\n        if (this._hasFlags) {\n            this._checkFlags();\n        }\n\n        for (i = 0, j = this.children.length; i < j; ++i) {\n            this.children[i].updateTransform();\n        }\n    }\n};\n\n// performance increase to avoid using call.. (10x faster)\n//Copied from PIXI //TODO Actually use this\nContainerElement.prototype.pomContainerUpdateTransform = ContainerElement.prototype.updateTransform;\n\nObject.defineProperties(ContainerElement.prototype, {\n    dataKeys: {\n        get: ContainerElement.prototype._getDataKeys\n    }\n});\n\n},{\"../../extras/getData\":9,\"../../extras/helpers\":10,\"../../extras/setData\":12,\"../../extras/updateData\":13,\"../const\":4}],6:[function(require,module,exports){\nvar updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar CONST = require('../const');\n\n/**\n * POM Graphics Element\n * @class GraphicsElement\n * @extends PIXI.Graphics\n * @memberof POM\n * @constructor\n * @param manager {Manager} the core POM Manager\n * @param data {Object} data for the element\n */\nfunction GraphicsElement(manager, data) {\n  PIXI.Graphics.call(this);\n  /**\n   * @var dataKeys {Object} datakeys (just the default)\n   */\n  this.dataKeys = CONST.DEFAULT_DATAKEYS;\n  this.manager = manager;\n  this.type = 'graphics';\n  this.updateData(data || {});\n}\n\nGraphicsElement.prototype = Object.create(PIXI.Graphics.prototype);\nmodule.exports = GraphicsElement;\n\n/**\n * update data of graphics from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nGraphicsElement.prototype.updateData = function (data) {\n  updateData(this, data);\n};\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the graphics element\n */\nGraphicsElement.prototype.getData = function () {\n  return getData(this);\n};\n\n},{\"../../extras/getData\":9,\"../../extras/updateData\":13,\"../const\":4}],7:[function(require,module,exports){\nvar updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar CONST = require('../const');\n\n/**\n * POM Manager Sprite Element\n * @class SpriteElement\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n * @param manager {Manager} the core manager\n * @param data {Object} data for the element\n */\nfunction SpriteElement(manager, data) {\n    PIXI.Sprite.call(this);\n\n    /**\n     * @var dataKeys {Object} datakeys (just the default and source)\n     */\n    this.dataKeys = CONST.DEFAULT_DATAKEYS.splice();\n    this.dataKeys.push('source');\n    this.manager = manager;\n    this.type = 'sprite';\n    this.updateData(data || {});\n}\n\nSpriteElement.prototype = Object.create(PIXI.Sprite.prototype);\nmodule.exports = SpriteElement;\n\n/**\n * update data of sprite from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nSpriteElement.prototype.updateData = function (data) {\n    updateData(this, data);\n};\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the sprite\n */\nSpriteElement.prototype.getData = function () {\n    return getData(this);\n};\n\n/**\n * set image source\n *\n * @var source {String} image url to a texture source.\n */\nObject.defineProperty(SpriteElement.prototype, 'source', {\n    set: function (value) {\n        this.texture = PIXI.Texture.fromImage(value);\n    },\n    get: function () {\n        return this.texture.baseTexture.imageUrl;\n    }\n});\n\n},{\"../../extras/getData\":9,\"../../extras/updateData\":13,\"../const\":4}],8:[function(require,module,exports){\n/**\n * @file        Main export of the PixiObjectModel core library\n * @author      Grey Rook Entertainment\n * @copyright   2015 Grey Rook Entertainment\n */\n\n/**\n * @namespace POM\n */\nmodule.exports = Object.assign(require('./const'), {\n  Manager: require('./Manager'),\n  ContainerElement: require('./elements/ContainerElement'),\n  GraphicsElement: require('./elements/GraphicsElement'),\n  SpriteElement: require('./elements/SpriteElement')\n});\n\n},{\"./Manager\":3,\"./const\":4,\"./elements/ContainerElement\":5,\"./elements/GraphicsElement\":6,\"./elements/SpriteElement\":7}],9:[function(require,module,exports){\n'use strict';\n\nfunction getValues(element) {\n    var values = {};\n    var property, data, key;\n    var elem = element;\n\n    for (var i = 0; i < element.dataKeys.length; i++) {\n        property = element.dataKeys[i];\n        try {\n            if (typeof property == 'function') {\n                values[property] = element[property]();\n            } else if (typeof property === 'string') {\n                values[property] = element[property];\n            } else {\n                elem = element;\n                key = property;\n                data = values;\n                while (key.length > 1) {\n                    var k = key.shift();\n                    if (!data.hasOwnProperty(k)) {\n                        data[k] = {};\n                    }\n                    data = data[k];\n                    elem = elem[k];\n                }\n                key = key[0];\n                data[key] = elem[key];\n            }\n        } catch (e) {\n            if (console && console.error) {\n                console.error('Property \"' + property + '\" could not be gotten from Element ' + element.name + ' of type \"' + element.type + '\"');\n                console.error(e.message);\n            }\n\n            values[property] = undefined;\n        }\n    }\n    return values;\n}\n\n/**\n * get describing data for element (position, style, ...)\n *\n * @returns {Object} data\n */\nfunction getData(element) {\n    return {\n        'type': element.type,\n        'values': getValues(element)\n    };\n}\n\nmodule.exports = getData;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nfunction deepClone(object) {\n    try {\n        var type = typeof object;\n        var clone;\n        if (type === 'boolean' || type === 'string' || type === 'number') {\n            return object;\n        } else if (isArray(object)) {\n            clone = [];\n            for (var i in object) {\n                clone.push(deepClone(object[i]));\n            }\n            return clone;\n        } else if (type === 'function') {\n            return object; //Is this correct?\n        } else if (type === 'object' && object !== null) {\n                clone = {};\n\n                for (var name in object) {\n                    clone[name] = deepClone(object[name]);\n                }\n\n                return clone;\n            } else {\n                return null;\n            }\n    } catch (e) {\n        if (console && console.error) {\n            console.error('Object could not be cloned');\n            console.error(object);\n            console.error(e.message);\n        }\n    }\n}\n\nfunction isArray(array) {\n    return Object.prototype.toString.call(array) === '[object Array]';\n}\n\nfunction deepCompare(object1, object2) {\n    var type1 = typeof object1;\n    var type2 = typeof object2;\n\n    if (type1 != type2) {\n        return false;\n    } else if (type1 === 'boolean' || type1 === 'string' || type1 === 'number') {\n        return object1 == object2;\n    } else if (isArray(object1)) {\n        if (!isArray(object2)) {\n            return false;\n        }\n        for (var i in object1) {\n            var child1 = object1[i];\n            var child2 = object2[i];\n            if (!deepCompare(child1, child2)) {\n                return false;\n            }\n        }\n\n        if (object1.length != object2.length) {\n            return false;\n        }\n    } else if (type1 === 'function') {\n        return object1 == object2; //TODO Better check\n    } else if (type1 === 'object') {\n            if (object1 == null && object2 || object2 == null && object1) {\n                return false;\n            } else {\n                var checked = [];\n                var name;\n                for (name in object1) {\n                    if (!deepCompare(object1[name], object2[name])) {\n                        return false;\n                    }\n                    checked.push(name);\n                }\n\n                for (name in object2) {\n                    if (checked.indexOf(name) < 0 && !deepCompare(object2[name], object1[name])) {\n                        return false;\n                    }\n                }\n            }\n        } else {\n            return null;\n        }\n\n    return true;\n}\n\nmodule.exports = {\n    deepCompare: deepCompare,\n    isArray: isArray,\n    deepClone: deepClone\n};\n\n},{}],11:[function(require,module,exports){\n/**\n * @file        Main export of the POM extras library\n * @author      Grey Rook Entertainment\n * @copyright   2015 Grey Rook Entertainment\n */\nmodule.exports = {\n    updateData: require('./updateData'),\n    getData: require('./getData'),\n    setData: require('./setData'),\n    helpers: require('./helpers')\n};\n\n},{\"./getData\":9,\"./helpers\":10,\"./setData\":12,\"./updateData\":13}],12:[function(require,module,exports){\n'use strict';\n\nvar helpers = require('./helpers');\n\nfunction _setValue(elem, value, key) {\n\n    if (typeof elem[key] == 'function') {\n        var args = value[key];\n        if (!helpers.isArray(args)) {\n            args = [args];\n        }\n        elem[key].apply(elem, args);\n    } else if (value[key] && typeof value[key] === 'object') {\n\n        //First we remove all previous data\n        if (helpers.isArray(value[key])) {\n            elem[key] = [];\n        } else if (!elem[key]) {\n            elem[key] = {}; //We cant do this all the time because we might have an object of a specific class\n        }\n\n        for (var k in value[key]) {\n            _setValue(elem[key], value[key], k);\n        }\n        elem[key] = elem[key];\n    } else {\n        // set string, int, ... value directly\n        elem[key] = value[key];\n    }\n}\n\n/**\n * update data for element\n *\n * @param element {Object} some element\n * @param values {Object} data that need to be set for the object\n */\nfunction setValues(element, values) {\n    for (var property in values) {\n        try {\n            _setValue(element, values, property);\n        } catch (e) {\n            if (console && console.error) {\n                console.error('Property \"' + property + '\" could not be set on Element ' + element.name + ' of type \"' + element.type + '\"');\n                console.error(e.message);\n            }\n        }\n    }\n}\n\nfunction setData(element, data) {\n    setValues(element, data.values || {});\n}\n\nmodule.exports = setData;\n\n},{\"./helpers\":10}],13:[function(require,module,exports){\n'use strict';\n\nvar helpers = require('./helpers');\n\nfunction _setValue(elem, value, key) {\n    if (value[key] && typeof value[key] === 'object') {\n        /**\n         If the upper level value does not exist yet,\n         we have to create an array or object,\n         so that the lower level values can be added\n         **/\n        if (!elem[key]) {\n            if (helpers.isArray(value[key])) {\n                elem[key] = [];\n            } else {\n                elem[key] = {};\n            }\n        }\n\n        for (var k in value[key]) {\n            _setValue(elem[key], value[key], k);\n        }\n        elem[key] = elem[key];\n    } else {\n        // set string, int, ... value directly\n        elem[key] = value[key];\n    }\n}\n\n/**\n * update data for element\n *\n * @param element {Object} some element\n * @param values {Object} data that need to be set for the object\n */\nfunction updateValues(element, values) {\n    // preinitialize variable\n    var elem = element;\n\n    for (var property in values) {\n        _setValue(elem, values, property);\n    }\n}\n\nfunction updateData(element, data) {\n    updateValues(element, data.values || {});\n}\n\nmodule.exports = updateData;\n\n},{\"./helpers\":10}]},{},[1])\n\n","module.exports={\n  \"name\": \"POM\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Pixi Object Model\",\n  \"author\": \"Grey Rook Entertainment\",\n  \"main\": \"./src/index.js\",\n  \"homepage\": \"\",\n  \"bugs\": \"\",\n  \"license\": \"\",\n  \"licenseUrl\": \"\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"\"\n  },\n  \"scripts\": {\n    \"test_ci\": \"testem ci\",\n    \"test\": \"karma start test/karma.conf.js\",\n    \"docs\": \"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md\"\n  },\n  \"dependencies\": {\n    \"async\": \"^0.9.0\",\n    \"brfs\": \"^1.4.0\",\n    \"earcut\": \"^2.0.0\",\n    \"eventemitter3\": \"^1.0.1\",\n    \"object-assign\": \"^2.0.0\",\n    \"resource-loader\": \"^1.5.6\"\n  },\n  \"devDependencies\": {\n    \"babelify\": \"^7.2.0\",\n    \"browserify\": \"^9.0.8\",\n    \"browserify-istanbul\": \"^0.2.1\",\n    \"chai\": \"^2.2.0\",\n    \"del\": \"^1.1.1\",\n    \"gulp\": \"^3.8.11\",\n    \"gulp-cached\": \"^1.0.4\",\n    \"gulp-concat\": \"^2.5.2\",\n    \"gulp-debug\": \"^2.0.1\",\n    \"gulp-jshint\": \"^1.10.0\",\n    \"gulp-mirror\": \"^0.4.0\",\n    \"gulp-plumber\": \"^1.0.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sourcemaps\": \"^1.5.2\",\n    \"gulp-uglify\": \"^1.2.0\",\n    \"gulp-util\": \"^3.0.4\",\n    \"ink-docstrap\": \"git+https://github.com/Pilatch/docstrap.git\",\n    \"jasmine-core\": \"^2.2.0\",\n    \"jsdoc\": \"^3.3.0-beta3\",\n    \"jshint-summary\": \"^0.4.0\",\n    \"minimist\": \"^1.1.1\",\n    \"mocha\": \"^2.2.4\",\n    \"karma-browserify\": \"^4.2.1\",\n    \"karma-chai\": \"^0.1.0\",\n    \"require-dir\": \"^0.3.0\",\n    \"run-sequence\": \"^1.0.2\",\n    \"testem\": \"^0.8.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.1.0\",\n    \"watchify\": \"^3.1.2\"\n  }\n}\n","'use strict';\n\nvar ContainerElement = require('./elements/ContainerElement'),\n    SpriteElement = require('./elements/SpriteElement'),\n    GraphicsElement = require('./elements/GraphicsElement');\n\n/**\n * POM Manager main container\n * @class Manager\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n */\nfunction Manager(data) {\n    /**\n     * list of all known element constructors\n     *\n     * @private\n     */\n    this._elementPrototypes = {\n        'container': ContainerElement,\n        'graphics': GraphicsElement,\n        'sprite': SpriteElement\n    };\n\n    this._plugins = {};\n\n    ContainerElement.call(this, this, data);\n}\n\nManager.prototype = Object.create(ContainerElement.prototype);\nmodule.exports = Manager;\n\n/**\n * create new element from given data (see elements folder)\n *\n * if no matching prototype is registered an exception is thorwn.\n *\n * @param data {Object} contains information about the element\n * @returns new instance of an element\n */\nManager.prototype.createElementFromData = function (data) {\n    var type = data.type;\n    if (type in this._elementPrototypes) {\n        return new this._elementPrototypes[type](this, data);\n    }\n    throw new Error('Cannot create element of unknown type ' + type);\n};\n\n/**\n * register new element prototype\n *\n * @param type {String} name of the element\n * @param elementPrototype {Element} base class for the element\n */\nManager.prototype.registerPrototype = function (name, elementPrototype) {\n    this._elementPrototypes[name] = elementPrototype;\n};\n\n\n/**\n * Adds a plugin to an object\n *\n * @param pluginName {string} The name of the plugin.\n * @param ctor {Object}\n */\nManager.prototype.registerPlugin = function (pluginName, ctor){\n    this._plugins[pluginName] = ctor;\n};\n\n/**\n * Instantiate all plugins of this object\n */\nManager.prototype.initPlugins = function (){\n    this.plugins = this.plugins || {};\n\n    for (var o in this._plugins){\n        this.plugins[o] = new (this._plugins[o])(this);\n    }\n};\n\n/**\n * Remove all the plugins of this object\n */\nManager.prototype.destroyPlugins = function (){\n    for (var o in this.plugins){\n        this.plugins[o].destroy();\n        this.plugins[o] = null;\n    }\n\n    this.plugins = null;\n};\n\nManager.prototype.destroy = function(){\n    this.destroyPlugins();\n    ContainerElement.prototype.destroy.call(this, true)\n};\n","/**\n * Constant values used in POM.Manager\n *\n * @lends MANAGER\n */\nvar CONST = {\n    /**\n     * String of the current POM.Manager version\n     *\n     * @static\n     * @constant\n     * @property {string} VERSION\n     */\n    VERSION: require('../../package.json').version,\n    DEFAULT_DATAKEYS: [\n        'name',\n        ['position', 'x'],\n        ['position', 'y'],\n        ['scale', 'x'],\n        ['scale', 'y'],\n        'alpha',\n        'rotation',\n        ['pivot', 'x'],\n        ['pivot', 'y']\n    ]\n};\n\nmodule.exports = CONST;\n","var updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar setData = require('../../extras/setData');\nvar CONST = require('../const');\nvar helpers = require('../../extras/helpers');\n\n/**\n * POM Container Element\n * @class ContainerElement\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n * @param manager the core manager\n * @param data data for the element\n */\nfunction ContainerElement(manager, data) {\n    PIXI.Container.call(this);\n    this.manager = manager;\n    this.type = 'container';\n    this.minWidth = 0;\n    this.minHeight = 0;\n    this._hasFlags = this._updateFlags.length > 0;\n    this.updateData(data || {});\n}\n\nContainerElement.prototype = Object.create(PIXI.Container.prototype);\nmodule.exports = ContainerElement;\n\nContainerElement.prototype._updateFlags = [];\n\n/**\n * Update data of objects from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nContainerElement.prototype.updateData = function (data) {\n    if (data.children) {\n        this.updateChildren(data.children);\n    }\n\n    updateData(this, data);\n};\n\n/**\n * Sets data of objects from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nContainerElement.prototype.setData = function(data){\n    data = data || {};\n\n    this.setChildren(data.children);\n    setData(this, data);\n};\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the container (and its children)\n */\nContainerElement.prototype.getData = function () {\n    var children = [];\n    for (var i = 0; i < this.children.length; i++) {\n        children.push(this.children[i].getData());\n    }\n    var data = getData(this);\n    data.children = children;\n    return data;\n};\n\n\n/**\n * Removes element with a given name - if it exists.\n * searches all children for the element with this name\n *\n * @param name {String} The name of the element to be removed\n */\nContainerElement.prototype.removeChildByNameRecursive = function (name) {\n    var child = this.getChildByNameRecursive(name);\n    if (child) {\n        child.parent.removeChild(child);\n    }\n};\n\n/**\n * Get element with given name - if it exists.\n * searches all children for the element with this name\n *\n * @param name {String} The name of the element to be found\n */\nContainerElement.prototype.getChildByNameRecursive = function (name) {\n    for (var i = 0; i < this.children.length; i++) {\n        var child = this.children[i];\n        if (child.name == name) {\n            return child;\n        }\n        if (typeof(child.getChildByNameRecursive) !== 'undefined') {\n            child = child.getChildByNameRecursive(name);\n            if (child !== null) {\n                return child;\n            }\n        }\n    }\n    return null;\n};\n\n/**\n * Generate children from JSON data\n *\n * @param children {Array} data of children\n * @private\n */\n//TODO Evaluate whether an UPDATE function should remove ALL data, instead of replacing old data with new data\nContainerElement.prototype.updateChildren = function (children) {\n    this.destroyChildren();\n    for (var i = 0; i < children.length; i++) {\n        this.addChild(this.manager.createElementFromData(children[i]));\n    }\n};\n\nContainerElement.prototype.destroyChildren = function(){\n    var children = this.removeChildren();\n    for(var i=0;i<children.length;i++){\n        var child = children[i];\n        if(child.destroy){\n            child.destroy();\n        }\n    }\n};\n\nContainerElement.prototype.setChildren = function(children){\n    if(children){\n        this.destroyChildren();\n        for (var i = 0; i < children.length; i++) {\n            this.addChild(this.manager.createElementFromData(children[i]));\n        }\n    }\n};\n\n\nContainerElement.prototype._getDataKeys = function () {\n    return helpers.deepClone(CONST.DEFAULT_DATAKEYS);\n};\n\n\n\nContainerElement.prototype.toLocal = function(global, from){\n    if(this.resizeScaling){\n        var local = PIXI.Container.prototype.toLocal.call(this, global, from);\n        local.x *=  this.localScaleX;\n        local.y *= this.localScaleY;\n\n        return local;\n    } else {\n        return PIXI.Container.prototype.toLocal.call(this, global, from);\n    }\n};\n\nContainerElement.prototype._checkFlags = function(){\n    for(var i=0, j=this._updateFlags.length;i<j;i++){\n        var flag = this._updateFlags[i];\n\n        if(this[flag.name]){\n\n            var func;\n            if(typeof flag.func === 'string'){\n                func = this[flag.func];\n            }else {\n                func =flag.func\n            }\n\n            if(func){\n                this[flag.name] = func.call(this);\n            }else{\n                console.log('Could not update flag ' + flag.name + ' on Element of type ' + this.type);\n            }\n        }\n    }\n};\n\n\n// TODO add a toGlobal function too\n// TODO merge this with GOWN.utils.resizeScaling\nContainerElement.prototype.updateTransform = function () {\n\n\n\n    var i, j;\n    var wt = this.worldTransform;\n    // obmit Control.updateTransform as it calls redraw as well\n    if (!this.resizeScaling) {\n        if (this.redraw) {\n            this.redraw(1, 1);\n        }\n\n        if(this._hasFlags){\n            this._checkFlags();\n        }\n\n        PIXI.Container.prototype.updateTransform.call(this);\n    } else {\n        var pt = this.parent.worldTransform;\n        var scaleX = Math.sqrt(Math.pow(pt.a, 2) + Math.pow(pt.b, 2));\n        var scaleY = Math.sqrt(Math.pow(pt.c, 2) + Math.pow(pt.d, 2));\n        this.worldWidth = Math.round(Math.max(this.width * scaleX, this.minWidth));\n        this.worldHeight = Math.round(Math.max(this.height * scaleY, this.minHeight));\n\n        PIXI.DisplayObject.prototype.updateTransform.call(this);\n\n        // revert scaling\n        var tx = wt.tx;\n        var ty = wt.ty;\n\n        wt.scale(scaleX !== 0 ? 1 / scaleX : 0, scaleY !== 0 ? 1 / scaleY : 0);\n        wt.tx = tx;\n        wt.ty = ty;\n\n        if (this.redraw) {\n            this.redraw(scaleX, scaleY);\n        }\n\n        this.localScaleX = scaleX;\n        this.localScaleY = scaleY;\n\n\n        if(this._hasFlags){\n            this._checkFlags();\n        }\n\n        for (i = 0, j = this.children.length; i < j; ++i) {\n            this.children[i].updateTransform();\n        }\n    }\n};\n\n// performance increase to avoid using call.. (10x faster)\n//Copied from PIXI //TODO Actually use this\nContainerElement.prototype.pomContainerUpdateTransform = ContainerElement.prototype.updateTransform\n\n\nObject.defineProperties(ContainerElement.prototype, {\n    dataKeys: {\n        get: ContainerElement.prototype._getDataKeys\n    }\n});\n","var updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar CONST = require('../const');\n\n/**\n * POM Graphics Element\n * @class GraphicsElement\n * @extends PIXI.Graphics\n * @memberof POM\n * @constructor\n * @param manager {Manager} the core POM Manager\n * @param data {Object} data for the element\n */\nfunction GraphicsElement(manager, data) {\n    PIXI.Graphics.call(this);\n    /**\n     * @var dataKeys {Object} datakeys (just the default)\n     */\n    this.dataKeys = CONST.DEFAULT_DATAKEYS;\n    this.manager = manager;\n    this.type = 'graphics';\n    this.updateData(data||{});\n}\n\nGraphicsElement.prototype = Object.create(PIXI.Graphics.prototype);\nmodule.exports = GraphicsElement;\n\n/**\n * update data of graphics from JSON decoded object\n *\n * @param data {Object} JSON decoded object representing the content\n */\nGraphicsElement.prototype.updateData = function (data) {\n    updateData(this, data);\n};\n\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the graphics element\n */\nGraphicsElement.prototype.getData = function () {\n    return getData(this);\n};\n","var updateData = require('../../extras/updateData');\nvar getData = require('../../extras/getData');\nvar CONST = require('../const');\n\n/**\n * POM Manager Sprite Element\n * @class SpriteElement\n * @extends PIXI.Container\n * @memberof POM\n * @constructor\n * @param manager {Manager} the core manager\n * @param data {Object} data for the element\n */\nfunction SpriteElement(manager, data) {\n    PIXI.Sprite.call(this);\n\n    /**\n     * @var dataKeys {Object} datakeys (just the default and source)\n     */\n    this.dataKeys = CONST.DEFAULT_DATAKEYS.splice();\n    this.dataKeys.push('source');\n    this.manager = manager;\n    this.type = 'sprite';\n    this.updateData(data||{});\n}\n\nSpriteElement.prototype = Object.create(PIXI.Sprite.prototype);\nmodule.exports = SpriteElement;\n\n /**\n  * update data of sprite from JSON decoded object\n  *\n  * @param data {Object} JSON decoded object representing the content\n  */\nSpriteElement.prototype.updateData = function (data) {\n    updateData(this, data);\n};\n\n/**\n * get data of SpriteElement (including defaults)\n *\n * @returns data {Object} representing the sprite\n */\nSpriteElement.prototype.getData = function () {\n    return getData(this);\n};\n\n/**\n * set image source\n *\n * @var source {String} image url to a texture source.\n */\nObject.defineProperty(SpriteElement.prototype, 'source', {\n    set: function(value) {\n        this.texture = PIXI.Texture.fromImage(value);\n    },\n    get: function() {\n        return this.texture.baseTexture.imageUrl;\n    }\n});\n","/**\n * @file        Main export of the POM extras library\n * @author      Grey Rook Entertainment\n * @copyright   2015 Grey Rook Entertainment\n */\n module.exports = {\n     updateData: require('./updateData'),\n     getData: require('./getData'),\n     setData: require('./setData'),\n     helpers: require('./helpers')\n };\n","'use strict';\n\nfunction getValues(element) {\n    var values = {};\n    var property, data, key;\n    var elem = element;\n\n    for (var i = 0; i < element.dataKeys.length; i++) {\n        property = element.dataKeys[i];\n        try {\n            if (typeof property == 'function') {\n                values[property] = element[property]();\n            } else if (typeof property === 'string') {\n                values[property] = element[property];\n            } else {\n                elem = element;\n                key = property;\n                data = values;\n                while (key.length > 1) {\n                    var k = key.shift();\n                    if (!data.hasOwnProperty(k)) {\n                        data[k] = {};\n                    }\n                    data = data[k];\n                    elem = elem[k];\n                }\n                key = key[0];\n                data[key] = elem[key];\n            }\n        } catch (e) {\n            if (console && console.error) {\n                console.error('Property \"' + property + '\" could not be gotten from Element ' + element.name + ' of type \"' + element.type + '\"');\n                console.error(e.message);\n            }\n\n            values[property] = undefined;\n        }\n    }\n    return values;\n}\n\n/**\n * get describing data for element (position, style, ...)\n *\n * @returns {Object} data\n */\nfunction getData(element) {\n    return {\n        'type': element.type,\n        'values': getValues(element)\n    };\n}\n\nmodule.exports = getData;\n","'use strict';\n\nfunction deepClone(object) {\n    try{\n    var type = typeof object;\n    var clone;\n    if (type === 'boolean' || type === 'string' || type === 'number') {\n        return object;\n    } else if (isArray(object)) {\n        clone = [];\n        for (var i in object) {\n            clone.push(deepClone(object[i]));\n        }\n        return clone;\n    } else if (type === 'function') {\n        return object; //Is this correct?\n    } else if (type === 'object' && object !== null) {\n        clone = {};\n\n        for (var name in object) {\n            clone[name] = deepClone(object[name]);\n        }\n\n        return clone;\n    } else {\n        return null;\n    }\n    } catch(e){\n        if(console && console.error){\n            console.error('Object could not be cloned');\n            console.error(object);\n            console.error(e.message)\n        }\n    }\n}\n\nfunction isArray(array) {\n    return Object.prototype.toString.call(array) === '[object Array]';\n}\n\nfunction deepCompare(object1, object2) {\n    var type1 = typeof object1;\n    var type2 = typeof object2;\n\n    if (type1 != type2) {\n        return false;\n    } else if (type1 === 'boolean' || type1 === 'string' || type1 === 'number') {\n        return object1 == object2;\n    } else if (isArray(object1)) {\n        if (!isArray(object2)) {\n            return false;\n        }\n        for (var i in object1) {\n            var child1 = object1[i];\n            var child2 = object2[i];\n            if (!deepCompare(child1, child2)) {\n                return false;\n            }\n        }\n\n        if (object1.length != object2.length) {\n            return false;\n        }\n    } else if (type1 === 'function') {\n        return object1 == object2; //TODO Better check\n    } else if (type1 === 'object') {\n        if (object1 == null && object2 || object2 == null && object1) {\n            return false;\n        } else {\n            var checked = [];\n            var name;\n            for (name in object1) {\n                if (!deepCompare(object1[name], object2[name])) {\n                    return false;\n                }\n                checked.push(name);\n            }\n\n            for (name in object2) {\n                if (checked.indexOf(name) < 0 && !deepCompare(object2[name], object1[name])) {\n                    return false;\n                }\n            }\n        }\n\n    } else {\n        return null;\n    }\n\n    return true;\n}\n\n\nmodule.exports = {\n    deepCompare: deepCompare,\n    isArray: isArray,\n    deepClone: deepClone\n};\n","'use strict';\n\nvar helpers = require('./helpers');\n\nfunction _setValue(elem, value, key) {\n\n    if (typeof elem[key] == 'function') {\n        var args = value[key];\n        if (!helpers.isArray(args)) {\n            args = [args];\n        }\n        elem[key].apply(elem, args);\n    } else if (value[key] && typeof value[key] === 'object') {\n\n        //First we remove all previous data\n        if (helpers.isArray(value[key])) {\n            elem[key] = [];\n        } else if (!elem[key]) {\n            elem[key] = {}; //We cant do this all the time because we might have an object of a specific class\n        }\n\n\n        for (var k in value[key]) {\n            _setValue(elem[key], value[key], k);\n        }\n        elem[key] = elem[key];\n    } else {\n        // set string, int, ... value directly\n        elem[key] = value[key];\n    }\n}\n\n\n/**\n * update data for element\n *\n * @param element {Object} some element\n * @param values {Object} data that need to be set for the object\n */\nfunction setValues(element, values) {\n    for (var property in values) {\n        try {\n            _setValue(element, values, property);\n        } catch (e) {\n            if (console && console.error) {\n                console.error('Property \"' + property + '\" could not be set on Element ' + element.name + ' of type \"' + element.type + '\"');\n                console.error(e.message);\n            }\n        }\n\n    }\n}\n\nfunction setData(element, data) {\n    setValues(element, data.values || {});\n}\n\nmodule.exports = setData;\n","'use strict';\n\nvar helpers = require('./helpers');\n\nfunction _setValue(elem, value, key) {\n    if (value[key] && typeof value[key] === 'object') {\n        /**\n         If the upper level value does not exist yet,\n         we have to create an array or object,\n         so that the lower level values can be added\n         **/\n        if(!elem[key]){\n            if(helpers.isArray(value[key])){\n                elem[key] = [];\n            } else {\n                elem[key] = {};\n            }\n        }\n\n        for (var k in value[key]) {\n            _setValue(elem[key], value[key], k);\n        }\n        elem[key] = elem[key];\n    } else {\n        // set string, int, ... value directly\n        elem[key] = value[key];\n    }\n}\n\n\n/**\n * update data for element\n *\n * @param element {Object} some element\n * @param values {Object} data that need to be set for the object\n */\nfunction updateValues(element, values) {\n    // preinitialize variable\n    var elem = element;\n\n    for (var property in values) {\n        _setValue(elem, values, property);\n    }\n}\n\nfunction updateData(element, data) {\n    updateValues(element, data.values||{});\n}\n\nmodule.exports = updateData;\n"],"sourceRoot":"/source/"}